<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="cn.edu.tju.scs.tv.domain">

        <class name="Video" table="video">

                <id name="videoId" type="java.lang.Integer">
                    <column name="VIDEO_ID" not-null="true" sql-type="int(11)"/>
                        <!--  //字段自增-->
                    <generator class="native"/>
                </id>
                <property name="name" type="java.lang.String" not-null="true">
                        <column name="NAME" sql-type="varchar(255)" not-null="true"/>
                </property>
                <property name="description" type="java.lang.String" not-null="false">
                        <column name="DESCRIPTION" sql-type="varchar(255)" not-null="false"/>
                </property>
                <property name="performer" type="java.lang.String">
                        <column name="PERFORMER" sql-type="varchar(255)" not-null="false"/>
                </property>
                <property name="album" type="java.lang.String">
                        <column name="ALBUM" sql-type="varchar(255)" not-null="false"/>
                </property>
                <property name="path" type="java.lang.String">
                        <column name="PATH" sql-type="varchar(255)" not-null="true" index="VIDEO_URL_INDEX"/>
                </property>
                <property name="imagePath" type="java.lang.String">
                        <column name="IMAGE_PATH" sql-type="varchar(255)" not-null="false"/>
                </property>
                <property name="praise" type="java.lang.Integer">
                        <column name="PRAISE" sql-type="int(11)" not-null="false"/>
                </property>
                <property name="targetDir" type="java.lang.String">
                        <column name="TARGET_DIR" sql-type="varchar(255)" not-null="false"/>
                </property>
                <property name="createtime" type="java.sql.Timestamp" not-null="false">
                        <column name="CREATE_TIME" sql-type="timestamp" default="CURRENT_TIMESTAMP" not-null="false"/>
                </property>
                <property name="updatetime" type="java.sql.Timestamp" not-null="false">
                        <column name="UPDATE_TIME" sql-type="timestamp" default="CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP" not-null="false"/>
                </property>
                <property name="size" type="java.lang.Long">
                        <column name="SIZE" sql-type="int(11)" not-null="false"/>
                </property>
                <property name="duration" type="java.lang.String">
                        <column name="DURATION" not-null="false" sql-type="varchar(255)"/>
                </property>
                <property name="visitedTimes" type="java.lang.Integer">
                        <column name="VISITED_TIMES" sql-type="int(11)" not-null="false"/>
                </property>
                <property name="state" type="java.lang.Integer" not-null="true">
                        <column name="STATE" sql-type="int(3)" not-null="false"/>
                </property>
                <property name="type" type="java.lang.Integer" not-null="true">
                        <column name="TYPE" sql-type="int(3)" not-null="false"/>
                </property>
                <property name="index" type="java.lang.Integer" not-null="true">
                        <column name="IS_INDXE" sql-type="int(3)" not-null="true" default="0"/>
                </property>

                <!-- unique="true"保证了外键在Person表中的唯一 -->
                <many-to-one name="user"  class="User" not-null="false" lazy="false">
                        <column name="REF_USER_ID" sql-type="int(11)" not-null="false"/>
                </many-to-one>

        </class>

</hibernate-mapping>